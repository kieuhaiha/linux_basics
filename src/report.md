## Part 1. Установка ОС

1. Узнал версию ***Ubuntu***, выполнив команду `cat /etc/issue`.
2. Скриншот с выводом команды.

    ![версия Ubuntu](./screenshots/pic.png)

## Part 2. Создание пользователя

1. Скриншот команды для создания пользователя.
    
    ![новый пользователь](./screenshots/pic1.png)

2. Добавил нового пользователя в группу `adm` через команду `sudo usermod -aG adm haki`
    
    ![новый пользователь](./screenshots/pic70.png)

3. Тепреь при вызове команды `cat /etc/passwd` есть новый пользователь ***Haki***.
    
    ![новый пользователь](./screenshots/pic2.png)
## Part 3. Настройка сети ОС

1. Через команду `sudo hostnamectl set-hostname` задал имя машины ***user-1***.
    
    ![user-1](./screenshots/pic3.png)

2. Установил временную зону, соответствующую текущему местоположению.
    
    ![время](./screenshots/pic4.png)

3. Вывел названия сетевых интерфейсов.
    
    ![сетевые интерфейсы](./screenshots/pic5.png)

    - Интерфейс lo представляет собой сетевой интерфейс обратной петли (loopback). Он используется для соединения с тем же устройством, на котором он работает, обычно с IP-адресом 127.0.0.1
4. Через консольную команду получил ip-адрес устройства.
    
    ![сетевые интерфейсы](./screenshots/pic6.png)

    - ***DHCP*** (Dynamic Host Configuration Protocol) — это протокол, который позволяет сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP3.
5. Определил и вывел на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
    
    ![ip-адрес](./screenshots/pic7.png)

6. Задал статические настройки ip, gw, dns.
     
    ![ip-адрес1](./screenshots/pic8.png)

7. После перезагрузки статичные сетевые настройки сохранились.
    
    ![ip-адрес1](./screenshots/pic9.png)

    - Получилось успешно пропинговать удаленные хосты ***1.1.1.1*** и ***ya.ru***.
    
    ![1.1.1.1](./screenshots/pic10.png)
    
    ![ya.ru](./screenshots/pic11.png)

## Part 4. Обновление ОС
1. Обновил системные пакеты до последней на момент выполнения задания версии. 
    
    ![update](./screenshots/pic12.png)

## Part 5. Использование команды **sudo**

1. Команда `sudo` (сокращение от “superuser do”) в системах Unix и Linux используется для выполнения команд с привилегиями суперпользователя (также известного как root-пользователь) из обычных учетных записей пользователей.
    
2. Разрешил новому пользователю созданному в [Part 2](#part-2-создание-пользователя), выполнять команду `sudo`
    - Через команду `sudo visudo`(специальная команда для безопасного редактирования файла sudoers).

    ![sudo](./screenshots/pic69.png)

3. Поменял hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo). 

    ![hostname](./screenshots/pic13.png)

## Part 6. Установка и настройка службы времени
1. Через команду `timedatectl show` вывел время часового пояса, в котором сейчас нахожусь.
    
    ![timedatectl](./screenshots/pic14.png)

## Part 7. Установка и использование текстовых редакторов 

1. Для выхода с сохранением из ***vim*** использовал `:wq` 
    
    ![vim](./screenshots/pic15.png)

2. Для выхода с сохранением из ***nano*** использовал `^X` потом `Y`
    
    ![nano](./screenshots/pic16.png)

3. Для выхода с сохранением из ***mcedit*** использовал `F2` потом `F10` 
    
    ![mcedit](./screenshots/pic17.png)

4. Для выхода из ***vim*** без сохранения использовал `:q!`
    
    ![vim1](./screenshots/pic18.png)

5. Для выхода из ***nano*** без сохранения использовал `^X` потом `N`
    
    ![nano1](./screenshots/pic19.png)

6. Для выхода из ***mcedit*** без сохранения использовал `F10` потом `No`
    
    ![mcedit1](./screenshots/pic20.png)
7. 
    - ***VIM*** - чтобы заменить слово, в режиме команды нужно прописать `:%s/старое_слово/новое_слово/g` и нажать `Enter`. Это заменит все вхождения старое_слово на новое_слово.
    
    ![vim2](./screenshots/pic21.png)
    
    ![vim3](./screenshots/pic22.png)
    
    - ***Nano*** - чтобы найти слово, используем `Control+W`, *"старое_слово"*, которое ищем, и нажмите `Enter`.
        - Чтобы заменить слово, используем `Control+\`, *"старое_слово"*, нажимаем `Enter`, затем *"новое_слово"* и снова `Enter`.
    
    ![nano2](./screenshots/pic23.png)
    
    ![nano3](./screenshots/pic24.png)
    
    - ***Mcedit*** - чтобы найти слово, нажимаем `F7`, *"старое_слово"*, которое ищем, и нажимаем `Enter`.
        - Чтобы заменить слово, `F4`, *"старое_слово"* в поле ***“Search for”***, *"новое_слово"* в поле ***“Replace with”***, и нажимаем `Enter`.
    
    ![mcedit2](./screenshots/pic25.png)
    
    ![mcedit3](./screenshots/pic26.png)

## Part 8. Установка и базовая настройка сервиса **SSHD**

1. Установил службу SSHd через команду `sudo apt install openssh-server`
    
    ![SSHd](./screenshots/pic27.png)

2. Добавил автостарт службы при загрузке системы через команду `sudo apt install openssh-server`
    
    ![autostart](./screenshots/pic28.png)

3. Перенастрой службу SSHd на порт 2022 через команду `sudo vi /etc/ssh/sshd_config`
    
    ![port2022](./screenshots/pic29.png)

4. Команда `ps -ef | grep sshd]` отображает все процессы sshd, запущенные в системе. Каждая строка в выводе представляет один процесс sshd.
    - ***ps***: Это команда для отображения информации о процессах, запущенных в системе.
    - ***-ef***: Это ключи для команды ps
        * ***e*** означает “выбрать все процессы”.
        * ***f*** означает “полный формат вывода”, который включает в себя дополнительные детали, такие как ***UID*** *(идентификатор пользователя)*, ***PID*** *(идентификатор процесса)*, ***PPID*** *(идентификатор родительского процесса)*, время запуска процесса, ***TTY*** *(управляющий терминал)*, время ***CPU***, которое занял процесс, и команду, которая запустила процесс.
    - ***|***: Это символ конвейера, который используется для передачи вывода одной команды (в данном случае, ***ps -ef***) в качестве ввода для другой команды (в данном случае, ***grep sshd***).
    - grep: Это команда для поиска текста по шаблону. В данном случае, она ищет ***sshd***.
    - ***sshd***: Это шаблон, который grep ищет в выводе команды ***ps -ef***.
    
    ![ps_sshd](./screenshots/pic30.png)

5. Перезагрузил систему через команду `sudo reboot`
    
    ![reboot](./screenshots/pic31.png)

    - Вывод команды netstat -tan содержит `tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`
    
    ![netstat](./screenshots/pic32.png)

    - Объяснение ключей `-tan` в команде `netstat -tan`:
        * ***-t*** означает, что вы хотите видеть только TCP-соединения.
        * ***-a*** означает, что вы хотите видеть все соединения, включая те, которые в настоящее время слушают.
        * ***-n*** означает, что вы хотите видеть числовые адреса, а не пытаться разрешить имена хостов.
    - Объяснение столбцов вывода `netstat -tan`:
        * ***Proto***: Протокол соединения (***TCP*** или UDP).
        * ***Recv-Q и Send-Q***: Количество байт, не отправленных или не полученных.
        * ***Local Address***: Адрес и порт, на котором слушает служба.
        * ***Foreign Address***: Адрес и порт, к которым подключается служба.
        * ***State***: Состояние соединения (*LISTEN*, *ESTABLISHED* и т.д.).
    - Объяснение ***0.0.0.0*** в выводе `netstat -tan`:
        * ***0.0.0.0*** означает, что служба слушает на всех доступных интерфейсах, а не только на одном.

## Part 9. Установка и использование утилит **top**, **htop**

1. Выводы команды `top`:
    - Uptime
    
    ![uptime](./screenshots/pic33.png)

    - Кол-во авторизованных пользователей и общую загрузку системы
    
    ![users](./screenshots/pic34.png)
    
    - Общее количество процессов
    
    ![tasks](./screenshots/pic35.png)
   
   - Загрузку *cpu*
    
    ![cpu](./screenshots/pic36.png)
    
    - Загрузку памяти
    
    ![mem](./screenshots/pic37.png)
    
    - *pid* процесса занимающего больше всего памяти
        * ***PID*** 1080
    
    ![cpu1](./screenshots/pic38.png)
    
    - *pid* процесса, занимающего больше всего процессорного времени
        * ***PID*** 1134
    
    ![mem1](./screenshots/pic38.png)

2. Выводы команды htop:
    - Отсортировка по:  ***PID***, ***PERCENT_CPU***, ***PERCENT_MEM***, ***TIME*** используя `">"` или `F6`
        -  ***PID***

        ![pid](./screenshots/pic39.png)

        - ***PERCENT_CPU***

        ![percent_cpu](./screenshots/pic40.png)

        - ***PERCENT_MEM***

        ![percent_mem](./screenshots/pic41.png)

        - ***TIME***

        ![time](./screenshots/pic42.png)

    - Используя `F4` отфильтровал процессы для процесса ***sshd***
    
    ![time](./screenshots/pic43.png)

    - Используя поиск `F3` вывел процессы ***syslog***
    
    ![time](./screenshots/pic44.png)

    - Используя `F2` добавил вывод hostname, ***clock*** и ***uptime***  
    
    ![time](./screenshots/pic45.png)

## Part 10. Использование утилиты **fdisk**

1. C помощью команды `sudo fdisk -l` получил данные о дисках.
    
    ![disk](./screenshots/pic46.png)

2. Через команду free -h вывел размер swap.
    
    ![swap](./screenshots/pic47.png)

## Part 11.  Использование утилиты **df** 

1. Запустил команду `df`.
    
    ![df](./screenshots/pic48.png)

    - ***1K-blocks*** - это размер раздела.
    - ***Used*** - это размер занятого пространства.
    - ***Available*** - это размер свободного пространства.
    - ***Use%*** - это процент использования. Единица измерения в выводе - это ***1K-blocks***, что означает, что размеры указаны в блоках по 1024 байта.
    
    ![df1](./screenshots/pic49.png)

2. Запустил командау `df -Th`.
    
    ![df_th](./screenshots/pic50.png)

    - ***Size*** - это размер раздела.
    - ***Used*** - это размер занятого пространства.
    - ***Avail*** - это размер свободного пространства.
    - ***Use%*** - это процент использования.
    - ***Type*** - это тип файловой системы для раздела.

    ![df_th1](./screenshots/pic51.png)

## Part 12. Использование утилиты **du**

1.  Запустил команду `du`
    
    ![df_th1](./screenshots/pic52.png)

2. Вывел размер папок через `du -sh`

    - ***/home***

    ![/home](./screenshots/pic53.png)

    - ***/var***

    ![/var](./screenshots/pic54.png)

    - ***/var/log***

    ![/var/log](./screenshots/pic55.png)

3. Вывел размер всего содержимого в ***/var/log*** (не общее, а каждого вложенного элемента, используя *)

    ![/var/log/*](./screenshots/pic56.png)

## Part 13. Установка и использование утилиты **ncdu**

1. Установил утилиту ncdu через `sudo apt install ncdu`
    
    ![ncdu](./screenshots/pic57.png)

2. Вывел размер папка ***/home***
    
    ![ncdu_home](./screenshots/pic58.png)

3. Вывел размер папка ***/var***
    
    ![ncdu_var](./screenshots/pic59.png)

4.  Вывел размер папка ***/var/log***
    
    ![ncdu_var_log](./screenshots/pic60.png)

## Part 14. Работа с системными журналами

1. Время последней успешной авторизации:
`Feb 20 19:28:33 Haki sshd[894]: Accepted password for hakearie from 10.0.2.2 port 62903 ssh2`
    ![log](./screenshots/pic61.png)

2. Перезагрузил службу ***SSHd*** через команду `sudo systemctl restart sshd`
    
    ![restart](./screenshots/pic62.png)

3. Через `cat` нашел сообщение о рестарте службы в ***/var/log/auth.log***
    
    ![restart](./screenshots/pic63.png)

4. Через `cat` нашел сообщение о рестарте службы в ***/var/log/syslog***
    
    ![restart](./screenshots/pic64.png)

## Part 15. Использование планировщика заданий **CRON**

1. Через команду `crontab -e` для редавтирования списка заданий cron. Добавил команду следующую строку, чтобы запускать команду uptime каждые 2 минуты:
```
*/2 * * * * /usr/bin/uptime >> /home/hakearie/uptime.log
```
2. Cписок текущих задач для ***CRON***.
    
    ![cron](./screenshots/pic65.png)

3. Отчет скрины со строчками о выполнении и списком текущих задач.
    
    ![uptime.log](./screenshots/pic66.png)

    - Через команду `crontab -l` вывел список текущих задач.
    
    ![tasks_cron](./screenshots/pic67.png)
    
4. Удалил все задания из планировщика заданий через команду `cron -r`
    
    ![deleted_tasks](./screenshots/pic68.png)
  
